# syntax: http://hub.darcs.net/simon/shelltestrunner

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http
<<<
foobar: 0.75 1351101449
>>>
event 6|foobar 1351101449.0 0.75;
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http '/v1/data/range/foobar?start=20121106T0002&finish=20121106T0002'
<<<
data 6|foobar 1352160000.0 10|{"one": 1};
data 6|foobar 1352160060.0 10|{"one": 2};
data 6|foobar 1352160120.0 10|{"one": 3};
data 6|foobar 1352160180.0 10|{"one": 4};
>>>
{"results": {"foobar": {"series": [[1352160120, {"one": 3}]]}}, "status": 200}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/data/2012/foobar
<<<
data 6|foobar 1352160000.0 10|{"one": 1};
>>>
{"reason": "Not Found", "status": 404}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/data/past24/foobar
<<<
data 6|foobar __NOWUXTIME__ 10|{"one": 1};
>>>
{"results": {"foobar": {"series": [[__NOWUXTIME__, {"one": 1}]]}}, "status": 200}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/data/pastweek/foobar
<<<
data 6|foobar __NOWUXTIME__ 10|{"one": 1};
>>>
{"results": {"foobar": {"series": [[__NOWUXTIME__, {"one": 1}]]}}, "status": 200}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/data/2012/11/06/foobar
<<<
data 6|foobar 1352220178.0 10|{"one": 1};
>>>
{"results": {"foobar": {"series": [[1352220178, {"one": 1}]]}}, "status": 200}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/data/2012/11/foobar
<<<
data 6|foobar 1352220178.0 10|{"one": 1};
>>>
{"results": {"foobar": {"series": [[1352220178, {"one": 1}]]}}, "status": 200}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http '/v1/range/foobar?start=20121106T0002&finish=20121106T0002'
<<<
event 6|foobar 1352160000.0 0.75;
event 6|foobar 1352160060.0 0.75;
event 6|foobar 1352160120.0 0.75;
event 6|foobar 1352160180.0 0.75;
>>>
{"results": {"foobar": {"series": [[1352160120, 0.75]]}}, "status": 200}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/2012/foobar
<<<
event 6|foobar 1352220178.0 0.75;
>>>
{"reason": "Not Found", "status": 404}
>>>= 0

./try/golden/lib/run leela_tryhttp_read_http /not_found
>>>
{"reason": "Not Found", "status": 404}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/past24/foobar
<<<
event 6|foobar __NOWUXTIME__ 0.75;
>>>
{"results": {"foobar": {"series": [[__NOWUXTIME__, 0.75]]}}, "status": 200}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/pastweek/foobar
<<<
event 6|foobar __NOWUXTIME__ 0.75;
>>>
{"results": {"foobar": {"series": [[__NOWUXTIME__, 0.75]]}}, "status": 200}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/2012/11/06/foobar
<<<
event 6|foobar 1352220178.0 0.75;
>>>
{"results": {"foobar": {"series": [[1352220178, 0.75]]}}, "status": 200}
>>>= 0

./try/golden/lib/run leela_tryhttp_write_to_socket_and_read_http /v1/2012/11/foobar
<<<
event 6|foobar 1352220178.0 0.75;
>>>
{"results": {"foobar": {"series": [[1352220178, 0.75]]}}, "status": 200}
>>>= 0
